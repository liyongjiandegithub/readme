<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Faucet Web Server</title>
	<style>
	.container{
		text-align: center;
	}
	.right{
		float: left;
		height: 100%;
		width: 45%;
		text-align: left;
		padding:20px;
	}
	.left{
		float: left;
		border-right: 1px #000 solid;
		height: 100%;
		width: 45%;
		text-align: right;
		padding: 20px;
	}
	input:text{
		width: 50px;
		font-size: 14px;
		margin:5px;
	}
	</style>
	<script type="text/javascript" src="jquery.min.js"></script>

	<script type="text/javascript">
  	function changeOutput(){
  		var outValue = $("input[name='output']:checked").val();
  		if(outValue=='0'){//文件
  			$("#div_file_output").css("display","block");
  			$("#div_network_output").css("display","none");
  		}else if(outValue=='1'){//网络
  			$("#div_file_output").css("display","none");
  			$("#div_network_output").css("display","block");
  		}
  	}
    var xmlDocCfg;
    // DisplayBox
    function display(message) {
        var displayBox = document.getElementById("displayBox");
        displayBox.innerHTML = message;

		parser=new DOMParser();
		xmlDocCfg = parser.parseFromString(message,"text/xml");
		//document.getElementById("state").innerHTML=xmlDoc.getElementsByTagName("state")[0].childNodes[0].nodeValue;
		document.getElementById("to").innerHTML=xmlDocCfg.getElementsByTagName("to")[0].childNodes[0].nodeValue;
		document.getElementById("from").innerHTML=xmlDocCfg.getElementsByTagName("from")[0].childNodes[0].nodeValue;
		document.getElementById("message").innerHTML=xmlDocCfg.getElementsByTagName("body")[0].childNodes[0].nodeValue;
		xmlDocCfg.getElementsByTagName("body")[0].childNodes[0].nodeValue = "what's the matter???";
		document.getElementById("message").innerHTML=xmlDocCfg.getElementsByTagName("body")[0].childNodes[0].nodeValue;
		document.getElementById("displayBox").innerHTML=xmlDocCfg.getElementsByTagName("videoPid")[0].childNodes[0].nodeValue;
    }        

	// XMLHttpRequest
	var xhr = new XMLHttpRequest();

    xhr.onload = function () {            
        display(xhr.responseText);
    };

    try {
        xhr.open("get", "config.xml", true);
        xhr.send();
    }
    catch (ex) {
        display(ex.message);
    }        

    </script>
</head>
<body>

    <h1 style="text-align: center;">Faucet Config</h1>
    <h1 id="displayBox" style="text-align: center;"></h1>
	<form name="configform" action="" method="post"> 
		<p align="center"><input type="submit" name="xcodeopt" value="Start"></p>
	</form>

	<p>
		<b>To:</b> <span id="to"></span><br />
		<b>From:</b> <span id="from"></span><br />
		<b>Message:</b> <span id="message"></span>
	</p>
    <div class="container">
    	<div class="left">
    		<div style="text-align: center;">输入</div>
    		<br>
    		<br>
    		<span>PID选择</span>
    		<hr>
    		<label for="">Video:</label><input id="input_video_PID" type="text" name="">
    		<br>
    		<label for="">PCR:</label><input id="input_PCR_PID" type="text" name="">
    		<br>
     		<label for="">Audio:</label><input id="input_audio_PID" type="text" name="">
    		<br>   		    		
    	</div>
    	<div class="right">
     		<div style="text-align: center;">输出</div>
    		<br>
    		<br>
    		<div><label for="output">文件输出</label><input type="radio" name="output" checked="checked" value="0" onclick="changeOutput();"> <label for="output">网络输出</label><input type="radio" value="1" name="output"  onclick="changeOutput();"></div>
    		<div id="div_file_output">
    			<input type="text" name="" placeholder="输出TS文件">
    		</div >
     		<div  id="div_network_output" style="display: none;">
    			<input type="text" name="" placeholder="目标IP地址"><input style="width: 50px;margin-left: 5px" type="text" name="" placeholder="目标端口">
    		</div>  
    		<div>
    			<label>码率：</label><input style="width: 50px;margin-left: 5px" type="text" name="">
    		</div> 
    		<hr>
    		<div>
    			<label>节目源：</label>
    			<select>
    				<option>1</option>
    				<option>2</option>
    				<option>3</option>
    			</select>
    		</div>			
    	</div>
    </div>
</body>
</html>

